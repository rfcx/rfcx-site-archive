
<!-- saved from url=(0066)http://273k.net/gsm/find-a-gsm-base-station-manually-using-a-usrp/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Find a GSM base station manually using a USRP</title>
<style type="text/css"></style></head>
<body bgcolor="#FFFFFF" class=" hasGoogleVoiceExt">
	<center><script type="text/javascript"><!--
google_ad_client = "pub-2911513822197842";
google_ad_width = 728;
google_ad_height = 15;
google_ad_format = "728x15_0ads_al_s";
//2007-04-03: 273k gsm links
google_ad_channel = "1440623040";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center>
	<br>
	<h1>Find a GSM base station manually using a USRP</h1>

	<center><a href="http://273k.net/gsm/">GSM Pages</a> - <a href="http://273k.net/gsm/books/">GSM Books</a> - <a href="http://wiki.thc.org/gsm">The GSM Software Project (External)</a> - <a href="http://digg.com/submit?phase=2&url=http://273k.net/gsm/find-a-gsm-base-station-manually-using-a-usrp/">Digg it</a></center>

	<p>A mobile phone will normally look for a suitable GSM base station on a channel in the GSM-900 band.  The GSM-900 band is made up of the following frequency bands:</p>

	<dl>
	<dt>Standard or Primary GSM-900 Band, P-GSM (Channels 1 to 124)</dt>
	<dd>890 MHz to 915 MHz: mobile TX, base RX</dd>
	<dd>935 MHz to 960 MHz: base TX, mobile RX</dd>

	<dt>Extended GSM-900 Band, E-GSM (Channels 0 to 124 and 975 to 1023)</dt>
	<dd>880 MHz to 915 MHz: mobile TX, base RX</dd>
	<dd>925 MHz to 960 MHz: base TX, mobile RX</dd>

	<dt>Railways GSM-900 Band, R-GSM (Channels 0 to 124 and 955 to 1023)</dt>
	<dd>876 MHz to 915 MHz: mobile TX, base RX</dd>
	<dd>921 MHz to 960 MHz: base TX, mobile RX</dd>
	</dl>

	<p><i>
		<b>Update 2008-01-25:</b>
		There are a number of GSM bands a mobile phone can use and these bands can be different depending on the country you are in.
		Most of the world uses the GSM-900 and GSM-1800 bands, the most notable exceptions are the United States, Canada and other parts of the Americas which use the GSM-850 and GSM-1900 bands.
	</i></p>

	<p>These are the details of the other common frequency bands:</p>

	<dl>
	<dt>GSM-850 Band (Channels 128 to 251)</dt>
	<dd>825 MHz to 849 MHz: mobile TX, base RX</dd>
	<dd>869 MHz to 894 MHz: base TX, mobile RX</dd>

	<dt>GSM-1800 or DCS-1800 Band (Channels 512 to 885)</dt>
	<dd>1710 MHz to 1785 MHz: mobile TX, base RX</dd>
	<dd>1805 MHz to 1880 MHz: base TX, mobile RX</dd>

	<dt>GSM-1900 or PCS-1900 Band (Channels 512 to 810)</dt>
	<dd>1850 MHz to 1910 MHz: mobile TX, base RX</dd>
	<dd>1930 MHz to 1990 MHz: base TX, mobile RX</dd>
	</dl>

	<p><i>
		<b>Update 2008-01-25:</b>
		The rest of the techniques in this article can be adjusted to work in the different bands, by using the different base TX to mobile RX frequency ranges.
	</i></p>

	<p>Each channel is made up of two radio frequency's a TX and RX frequency each 45 MHz apart, the frequency's have a 200 kHz carrier spacing, for example channel 12 uses the frequency's 892.4 MHz and 937.4 MHz.</p>

	<p>A base station (cell) will be allocated a set of channels, one of these channels is called the BCCH carrier.  This channel contains lots of useful information about the base station (BCCH (Broadcast Control Channel)) and provides a mechanism for the mobile phone to find the base station (FCCH (Frequency correction channel)).</p>

	<p>We can use the FCCH to manually find an active base station using <a href="http://www.gnuradio.org/">GnuRadio</a> software an <a href="http://www.ettus.com/">USRP</a> hardware with a DBSRX module.  Setting up a GnuRadio environment is not covered in this howto.</p>

	<p>The FCCH generates a Frequency correction burst (FB) which can be seen on a spectrum (frequency-domain) plot as a peek frequency offset 66.7 kHz (+1625/24 kHz) above the carrier center.  A suitable spectrum plot can be generated by the usrp_fft.py command.</p>

	<code>usrp_fft.py --decim=32 --gain=26 --freq=921M</code>

	<p>When this above command is run, a plot window similar to Image 1 is shown with a random moving blue line which represents the amplitude of the signal detected at that frequency.  The frequency range shown is -1 MHz to +1 MHz below and above the center frequency of 921 MHz.  The plots vertical divisions are 200 kHz apart.</p>

	<div><div>Image 1: Showing usrp_fft.py window.</div><img src="./Find a GSM base station manually using a USRP_files/image1.png"></div>

	<p>A possible active channel should be visible in plot display as wide bump centered around a vertical division.  There are no active channels shown in Image 1.</p>

	<p>The center frequency can be modified by typing a new value into the Center freq: text box and pressing enter key.  Scan forward through the frequency range by typing 922M [enter], 923M [enter], etc. look for interesting channel bumps in the blue line centered around a vertical division.</p>

	<p>In my scan the first interesting channel bump appeared near center frequency 937 MHz (Image 2).  Note: the slight bump to the left is an artifact and can be ignored.</p>

	<div><div>Image 2: Interesting channel bump.</div><img src="./Find a GSM base station manually using a USRP_files/image2.png"></div>

	<p>To investigate the possible channel further we change the center frequency to 937.8 MHz, this centers us in on the possible channel.  Notice in Image 3 that the spectrum to the right of the center channel has a similar amplitude, this tells me that other channels might be in use for traffic data or that I'm picking up more then one base station.</p>

	<div><div>Image 3: Centered channel bump, possible traffic.</div><img src="./Find a GSM base station manually using a USRP_files/image3.png"></div>

	<p>By right clicking on the plot window and selecting the Peek Hold option the plot shows the highest amplitude received.  After about 30 seconds any Frequency correction bursts should be clearly visible as narrow peeks in the plot.  Image 4 show three Frequency correction bursts highlight with red arrow and possible two more others.  It would not be normal to expect so many BCCH carriers so close together and it is most like we are picking up more then base station (FIXME is this correct?).</p>

	<div><div>Image 4: Marked frequency correction bursts.</div><img src="./Find a GSM base station manually using a USRP_files/image4.png"></div>

	<p>We should continue scanning for a more suitable base station.  Right click again and select Peek Hold to deselect that option.  Enter the next center frequency.</p>

	<p>The next interesting center frequency is 941 MHz (Image 5).  This possible channel bump is as significant higher amplitude which would indicate that the base station is closer.  The Peek Hold plot (Image 6) shows a very clear Frequency correction bursts.  Also the peeks to the right would seem to indicate active traffic channels.</p>

	<div><div>Image 5: Another interesting channel bump.</div><img src="./Find a GSM base station manually using a USRP_files/image5.png"></div>
	<div><div>Image 6: This is a strong clean channel signal with FB, it might even show traffic channels?</div><img src="./Find a GSM base station manually using a USRP_files/image6.png"></div>

	<p>We can be pretty sure that this is a local base station channel and we should record it's center frequency for future in-depth investigation.  We can continue scanning for more base stations.</p>
	<br>
	<center><a href="http://273k.net/gsm/">GSM Pages</a> - <a href="http://273k.net/gsm/books/">GSM Books</a> - <a href="http://wiki.thc.org/gsm">The GSM Scanner Project (External)</a></center>
	<br>
	<center>Last updated 2008-01-23.  Copyright Â© 2007-2008 Robert Fitzsimons.  robfitz at 273k dot net</center>
	<center><script type="text/javascript"><!--
google_ad_client = "pub-2911513822197842";
google_ad_width = 728;
google_ad_height = 90;
google_ad_format = "728x90_as";
google_ad_type = "text_image";
//2007-04-03: 273k gsm leaderboard
google_ad_channel = "4578813361";
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script></center>
<script src="./Find a GSM base station manually using a USRP_files/ga.js" type="text/javascript">
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1221560-1");
pageTracker._initData();
pageTracker._trackPageview();
</script>



</body></html>